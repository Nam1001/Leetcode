#include <bits/stdc++.h>
using namespace std;
map<vector<int>, int> mpp;
void solve(vector<int> &nums, int size, int curr, vector<vector<int>> &arr, vector<int> vec)
{
    if (curr >= size)
    {
        if (vec.size() > 1 && mpp[vec] == 0)
        {
            arr.push_back(vec);
            mpp[vec]++;
        }
        return;
    }

    if (!vec.size() || vec.back() <= nums[curr])
    {
        vec.push_back(nums[curr]);
        solve(nums, size, curr+1, arr, vec);
        vec.pop_back();
    }

    solve(nums, size, curr+1, arr, vec);
}
int main()
{
    vector<int> nums = {4, 6, 7, 7};
    int n = nums.size();
    vector<vector<int>> arr;
    vector<int> vec;
    solve(nums, n, 0, arr, vec);
    cout << arr.size();
    for (auto it : arr)
    {
        for (auto i : it)
        {
            cout << i << " ";
        }
        cout << endl;
    }
}

//[[1,2],[1,2,4],[1,2,4,5],[1,2,4,5,7],[1,2,4,5,7,8],[1,2,4,5,8],[1,2,4,5,6],[1,2,4,4],[1,2,4,4,4],[1,2,4,4,4,7],[1,2,4,4,4,7,8],[1,2,4,4,4,8],[1,2,4,4,4,6],[1,2,4,4,7],[1,2,4,4,7,8],[1,2,4,4,8],[1,2,4,4,6],[1,2,4,7],[1,2,4,7,8],[1,2,4,8],[1,2,4,6],[1,2,2],[1,2,2,5],[1,2,2,5,7],[1,2,2,5,7,8],[1,2,2,5,8],[1,2,2,5,6],[1,2,2,4],[1,2,2,4,4],[1,2,2,4,4,7],[1,2,2,4,4,7,8],[1,2,2,4,4,8],[1,2,2,4,4,6],[1,2,2,4,7],[1,2,2,4,7,8],[1,2,2,4,8],[1,2,2,4,6],[1,2,2,7],[1,2,2,7,8],[1,2,2,8],[1,2,2,6],[1,2,5],[1,2,5,7],[1,2,5,7,8],[1,2,5,8],[1,2,5,6],[1,2,7],[1,2,7,8],[1,2,8],[1,2,6],[1,4],[1,4,5],[1,4,5,7],[1,4,5,7,8],[1,4,5,8],[1,4,5,6],[1,4,4],[1,4,4,4],[1,4,4,4,7],[1,4,4,4,7,8],[1,4,4,4,8],[1,4,4,4,6],[1,4,4,7],[1,4,4,7,8],[1,4,4,8],[1,4,4,6],[1,4,7],[1,4,7,8],[1,4,8],[1,4,6],[1,5],[1,5,7],[1,5,7,8],[1,5,8],[1,5,6],[1,7],[1,7,8],[1,8],[1,6],[2,4],[2,4,5],[2,4,5,7],[2,4,5,7,8],[2,4,5,8],[2,4,5,6],[2,4,4],[2,4,4,4],[2,4,4,4,7],[2,4,4,4,7,8],[2,4,4,4,8],[2,4,4,4,6],[2,4,4,7],[2,4,4,7,8],[2,4,4,8],[2,4,4,6],[2,4,7],[2,4,7,8],[2,4,8],[2,4,6],[2,2],[2,2,5],[2,2,5,7],[2,2,5,7,8],[2,2,5,8],[2,2,5,6],[2,2,4],[2,2,4,4],[2,2,4,4,7],[2,2,4,4,7,8],[2,2,4,4,8],[2,2,4,4,6],[2,2,4,7],[2,2,4,7,8],[2,2,4,8],[2,2,4,6],[2,2,7],[2,2,7,8],[2,2,8],[2,2,6],[2,5],[2,5,7],[2,5,7,8],[2,5,8],[2,5,6],[2,7],[2,7,8],[2,8],[2,6],[4,5],[4,5,7],[4,5,7,8],[4,5,8],[4,5,6],[4,4],[4,4,4],[4,4,4,7],[4,4,4,7,8],[4,4,4,8],[4,4,4,6],[4,4,7],[4,4,7,8],[4,4,8],[4,4,6],[4,7],[4,7,8],[4,8],[4,6],[5,7],[5,7,8],[5,8],[5,6],[7,8]]
